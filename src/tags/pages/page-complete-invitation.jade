page-complete-invitation
  div.wrap-page.f.fh
    div.wrap-box.f.fc.flex-column
      p.mb12 {text}
      a.js-copytext.mb12 {invitationUrl}
      div.mt24.f.fc  
        div(onclick='{copy.bind(this, invitationUrl)}' data-url='{invitationUrl}').button-copy.px12.py6.f.fc.flex-around
          p.mt3.mr6 Copy URL
          i.icon-ionicons_svg_md-link


  style(scoped, type='less').
    :scope {
      .wrap-page {
        width: 100%;
        height: 100%;
        .wrap-box {
          width: 80%;
          p {
            text-align: center;
          }
          a {
            text-align: center;
            font-size: 12px;
            color: #999;
          }
          .button-copy {
            cursor: pointer;
            background: #2a2a2a;
            border-radius: 3px;
            p {
              text-align: left;
              color: #FFF;
              letter-spacing: 1.2px;
              font-size: 12px;
            }
            i {
              color: #FFF;
              font-size: 20px;
            }
          }
        }
      }
    }

  script.

    var self = this;
    this.text = `${riot.nameToInvite}に招待リンクを送りましょう。`;
    var test = this.opts.__proto__.invitationId;
    this.invitationUrl = `${window.location.host}/#login?invitationId=${test}`;

    this.on('mount', function(){
    })

    this.copy = function(url){
      console.log('copy this:', url);
      var element = document.querySelector('.js-copytext');
      var range = document.createRange();
      range.selectNode(element);

      var selection = getSelection();
      selection.removeAllRanges();
      selection.addRange(range);

      document.execCommand('copy');

      selection.removeAllRanges();

      alert('コピーしました。');
    }


    

















